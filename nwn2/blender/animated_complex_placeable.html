<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>FreshLook</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="FreshLook" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="/nwn2/blender/animated_complex_placeable.html" />
<meta property="og:url" content="/nwn2/blender/animated_complex_placeable.html" />
<meta property="og:site_name" content="FreshLook" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="FreshLook" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","headline":"FreshLook","url":"/nwn2/blender/animated_complex_placeable.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="FreshLook" />
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">FreshLook</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/nwn2/">NWN2</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <h1 id="tutorial-animating-a-complex-placeable">Tutorial: Animating a complex placeable</h1>

<p>This tutorial uses Blender 3.3.1.</p>

<h1 id="what-is-a-complex-animated-placeable">What is a complex animated placeable?</h1>

<p>In NWN2, an animated placeable can consist of several parts, where each part
has its own animation curve. One part must be the <strong>base part</strong>, and the other
parts are the <strong>attached parts</strong>. Each part is stored in its own MDB file. The
name of the attached parts must be same as the base part followed by an
underscore and a two-digit number that starts with <strong>01</strong> for the first
attached part. For example, the placeable <strong>Chest (01 Medium)</strong> is composed of
the following parts:</p>

<ul>
  <li><strong>Base part</strong>: <strong>PLC_ML_CHESTM01.MDB</strong></li>
  <li><strong>Attached part</strong>: <strong>PLC_ML_CHESTM01_01.MDB</strong></li>
</ul>

<p>(You can find these files in <strong>Data\NWN2_Models.zip</strong>, located at the NWN2
installation directory).</p>

<h1 id="creating-an-animated-complex-placeable">Creating an animated complex placeable</h1>

<p>First, you should read the tutorial about <a href="animated_placeable">animating a simple
placeable</a>, which explains the fundamentals. This section
isn’t going to be as detailed as that tutorial because I’m going to assume you
know them.</p>

<h2 id="step-1-create-the-models-and-animations">Step 1: Create the models and animations</h2>

<ol>
  <li>Create the models and animations. You must create the base part, the
attached parts and other objects as needed (collision mesh, walk mesh and so
on).</li>
  <li>The name of the attached parts must be same as the base part followed by an
underscore and a two digit number that starts with <strong>01</strong> for the first
attached part.</li>
  <li>The attached parts must be children of the base part or another attached
part.</li>
  <li>
    <p>In object mode, select the base part, go to the panel <strong>NWN2</strong> in the object
properties and check <strong>Base Part</strong>.</p>

    <p><img src="base_part.png" alt="" /></p>
  </li>
</ol>

<h2 id="step-2-export-a-mdb-file-for-each-part">Step 2: Export a MDB file for each part</h2>

<ol>
  <li>Export to MDB only the base part.</li>
  <li>Do the same for each attached part.</li>
</ol>

<h2 id="step-3-export-the-gr2-skeleton">Step 3: Export the GR2 skeleton</h2>

<ol>
  <li>
    <p>Go to <strong>File</strong> &gt; <strong>Export</strong> &gt; <strong>Neverwinter Nights 2 (.gr2)</strong></p>

    <p><img src="export_gr2.png" alt="" /></p>
  </li>
  <li>
    <p>Select <strong>Skeletons</strong> in the <strong>Export</strong> field.</p>

    <p><img src="export_skeleton.png" alt="" /></p>
  </li>
  <li>
    <p>Navigate to the directory where you want to export, type the file name, and
click <strong>Export GR2</strong>.</p>
  </li>
</ol>

<h2 id="step-4-export-the-gr2-animation">Step 4: Export the GR2 animation</h2>

<ol>
  <li>
    <p>Go to <strong>File</strong> &gt; <strong>Export</strong> &gt; <strong>Neverwinter Nights 2 (.gr2)</strong></p>

    <p><img src="export_gr2.png" alt="" /></p>
  </li>
  <li>
    <p>Select <strong>Animation</strong> in the <strong>Export</strong> field.</p>

    <p><img src="export_animation.png" alt="" /></p>
  </li>
  <li>
    <p>Navigate to the directory where you want to export, type the file name, and
click <strong>Export GR2</strong>.</p>
  </li>
</ol>

<h2 id="step-5-edit-placeables2da">Step 5: Edit placeables.2da</h2>

<p>We have generated all the files we need: a MDB for each part, a GR2 containing
the skeleton and a GR2 file containing the animation. Now, you must add or edit
the row of the placeable in <strong>placeables.2da</strong> as follows:</p>

<ol>
  <li>Column <strong>PlaceableModelType</strong>: set to 2 to indicate it’s an animated
placeable.</li>
  <li>Column <strong>NWN2_Skeleton</strong>: the name of the GR2 file containing the skeleton
without the file extension. For example: <strong>PLC_ML_CHESTM01</strong>.</li>
  <li>Column <strong>AttachedModelName</strong>: if the placeable has only one attached part,
you can just set the name of the attached part. If the placeable has more
than one attached part, you must set the name of the base part follow by an
underscore and two question marks. For example: <strong>PLC_ML_CHESTM01_??</strong>. This
also works for one attached part.</li>
  <li>Column <strong>SoundAppType</strong>: this is a reference to <strong>placeableobjsnds.2da</strong>,
which defines a “placeable sound set” consisting of entries for sound to
play on opened, closed, etc. The default row, row 0, is the row for a medium
wood chest, so that is the sound set that will play if this entry is left as
<code class="language-plaintext highlighter-rouge">****</code>.</li>
</ol>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p></p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>
